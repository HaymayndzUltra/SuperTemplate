# PROTOCOL REQUIREMENTS FORM - PROTOCOL 12

protocol_number: "12"
protocol_name: "post-deployment-monitoring-observability"
domain_compliance: "SRE"
purpose: "Activate and validate observability coverage post-deployment with SLO-driven alerting and monitoring handoff."

ai_role: "Site Reliability Engineer"
primary_guardrail: "DO NOT disable or silence alerts without documented approval and alternative monitoring coverage"
prerequisites:
  - protocol: "11-production-deployment-release-management"
    required_artifacts: "deployment-telemetry.ndjson, release-health-report.md"
  - protocol: "06-technical-design-architecture"
    required_artifacts: "integration-catalog.yaml, operational requirements"
phase_in_workflow: "Between Protocol 11 (Production Deployment) and Protocol 13 (Incident Response)"

phases:
  - phase_number: 1
    phase_name: "Monitoring Enablement & Coverage Validation"
    objective: "Align telemetry with deployment and ensure instrumentation coverage"
    steps:
      - step_number: 1
        action_type: "MUST"
        action_title: "Review Deployment Telemetry Inputs"
        instructions: "Import release telemetry and annotate monitoring timelines"
        communication_template: "[PHASE 1 START] - Reviewing deployment telemetry and aligning monitoring baselines..."
        halt_condition: ""
      - step_number: 2
        action_type: "MUST"
        action_title: "Validate Instrumentation Coverage"
        instructions: "Confirm metrics, traces, and logs are active for all critical services"
        communication_template: "Verifying instrumentation coverage across services and dependencies..."
        halt_condition: ""
      - step_number: 3
        action_type: "GUIDELINE"
        action_title: "Update Observability Assets"
        instructions: "Refresh dashboards, log queries, and runbook links"
        communication_template: "Updating dashboards and log queries to include new release components..."
        halt_condition: ""
    evidence_collection:
      - evidence_item: "Telemetry alignment report"
        storage_location: ".artifacts/monitoring/telemetry-alignment-report.md"
      - evidence_item: "Instrumentation coverage checklist"
        storage_location: ".artifacts/monitoring/instrumentation-coverage-checklist.json"
      - evidence_item: "Dashboard update log"
        storage_location: ".artifacts/monitoring/dashboard-update-log.md"
    quality_gate:
      gate_name: "Observability Coverage Gate"
      criteria: "Instrumentation coverage confirmed; dashboards/log queries updated"
      failure_handling: "Escalate missing instrumentation before enabling alerting"

  - phase_number: 2
    phase_name: "Alerting & SLO Activation"
    objective: "Configure SLO-driven alerting and synthetic checks"
    steps:
      - step_number: 1
        action_type: "MUST"
        action_title: "Define/Confirm SLOs & SLIs"
        instructions: "Document target SLOs, error budgets, and primary SLIs"
        communication_template: "[PHASE 2 START] - Validating SLO targets and error budgets for post-release monitoring..."
        halt_condition: ""
      - step_number: 2
        action_type: "MUST"
        action_title: "Configure Alerts & Synthetic Probes"
        instructions: "Set alert policies, escalation routing, and synthetic health checks"
        communication_template: "Configuring alert policies and synthetic probes for immediate post-release coverage..."
        halt_condition: "Stop if routing or contacts unresolved"
      - step_number: 3
        action_type: "GUIDELINE"
        action_title: "Run Dry-Run Alert Validation"
        instructions: "Trigger non-impacting alerts to validate routing and runbooks"
        communication_template: "Executing alert dry-run to validate routing and runbook readiness..."
        halt_condition: ""
    evidence_collection:
      - evidence_item: "SLO register"
        storage_location: ".artifacts/monitoring/slo-register.yaml"
      - evidence_item: "Alert policy config"
        storage_location: ".artifacts/monitoring/alert-policy-config.json"
      - evidence_item: "Synthetic check results"
        storage_location: ".artifacts/monitoring/synthetic-check-results.json"
    quality_gate:
      gate_name: "Alert Readiness Gate"
      criteria: "SLOs documented; alerts configured with verified routing; synthetic checks passing"
      failure_handling: "Fix routing issues or failing probes before activation"

  - phase_number: 3
    phase_name: "Continuous Monitoring & Reporting"
    objective: "Execute heightened monitoring session and provide operations handoff"
    steps:
      - step_number: 1
        action_type: "MUST"
        action_title: "Activate Monitoring Session"
        instructions: "Start heightened monitoring and capture anomalies"
        communication_template: "[PHASE 3 START] - Initiating heightened monitoring session post-deployment..."
        halt_condition: ""
      - step_number: 2
        action_type: "MUST"
        action_title: "Record Observations & Potential Incidents"
        instructions: "Log anomalies, thresholds, and mitigation actions"
        communication_template: "Logging observed anomalies and coordinating with incident response if thresholds breached..."
        halt_condition: ""
      - step_number: 3
        action_type: "GUIDELINE"
        action_title: "Publish Monitoring Summary & Handoff"
        instructions: "Summarize metrics, anomalies, recommendations, and handoff to operations"
        communication_template: "Publishing monitoring summary and handoff recommendations to operations teams..."
        halt_condition: ""
    evidence_collection:
      - evidence_item: "Monitoring session log"
        storage_location: ".artifacts/monitoring/monitoring-session-log.ndjson"
      - evidence_item: "Anomaly report"
        storage_location: ".artifacts/monitoring/anomaly-report.md"
      - evidence_item: "Monitoring handoff summary"
        storage_location: ".artifacts/monitoring/monitoring-handoff-summary.md"
    quality_gate:
      gate_name: "Monitoring Stability Gate"
      criteria: "Monitoring session completed; anomalies documented; handoff approved"
      failure_handling: "Engage incident response and extend monitoring"

inputs_from:
  - protocol: "11-production-deployment-release-management"
    artifacts_consumed: "deployment-telemetry.ndjson, release-health-report.md"
    usage: "Align monitoring baselines and context"
  - protocol: "07-development-environment-setup-validation"
    artifacts_consumed: "automation-hooks.json (monitoring scripts)"
    usage: "Leverage existing automation for validation"

outputs_to:
  - protocol: "13-incident-response-rollback"
    artifacts_provided: "monitoring-session-log.ndjson, anomaly-report.md"
    purpose: "Enable incident triage when anomalies detected"
  - protocol: "05-implementation-retrospective"
    artifacts_provided: "telemetry-alignment-report.md, slo-register.yaml"
    purpose: "Support retrospective analysis of release performance"

automation_hooks:
  - hook_name: "observability_validator.py"
    trigger_point: "Phase 1 instrumentation validation"
    command: "python scripts/observability_validator.py --config .artifacts/monitoring/"
    expected_output: "Coverage checklist confirming metrics/traces availability"
  - hook_name: "alert_tester.py"
    trigger_point: "Phase 2 alert dry-run"
    command: "python scripts/alert_tester.py --policy .artifacts/monitoring/alert-policy-config.json"
    expected_output: "Alert routing verification log"
  - hook_name: "monitoring_session_recorder.py"
    trigger_point: "Phase 3 monitoring session"
    command: "python scripts/monitoring_session_recorder.py --duration 60 --output .artifacts/monitoring/monitoring-session-log.ndjson"
    expected_output: "Time-series log of monitoring observations"

communication_protocols:
  status_announcements:
    - "[PHASE 1 START] - Monitoring enablement and coverage validation in progress."
    - "[PHASE 2 START] - Activating SLOs and configuring alert policies."
    - "[PHASE 3 START] - Monitoring session active with heightened observability."
  validation_prompts:
    - "[VALIDATION REQUEST] - Observability coverage confirmed. Proceed to alert configuration? (yes/no)"
    - "[VALIDATION REQUEST] - Alerts configured with routing verified. Activate monitoring session? (yes/no)"
    - "[VALIDATION REQUEST] - Monitoring summary ready. Handoff to operations? (yes/no)"
  error_messages:
    - code: "MissingTelemetry"
      message: "[ERROR] Deployment telemetry not available."
    - code: "AlertRoutingFailure"
      message: "[ERROR] Alert routing validation failed."
    - code: "UnresolvedAnomaly"
      message: "[ERROR] Monitoring detected unresolved anomaly."
