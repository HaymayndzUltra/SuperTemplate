# Content Pattern Library for Protocol Creation
# This file contains all validated patterns for protocol content sections
# Use these patterns to ensure validator compliance

ai_role_patterns:
  role_title:
    pattern: "You are a **[specific role]**."
    validator: "validate_protocol_role.py:101"
    examples:
      pass:
        - "You are a **Protocol Requirements Analyst**."
        - "You are a **Technical Design Architect**."
        - "You are an **Integration Testing Specialist**."
      fail:
        - "This protocol defines a Requirements Analyst"  # Missing "You are a"
        - "The role is Protocol Analyst"  # Missing "You are a"
  
  role_description:
    min_length: 60
    min_lines: 2
    validator: "validate_protocol_role.py:103"
    example: |
      You are a **Protocol Requirements Analyst** with deep expertise in validation 
      system architecture. Your strategic approach ensures rigorous requirement extraction.
    note: "Must be >60 characters AND span multiple lines"
  
  domain_expertise:
    required_keywords:
      - "domain"
      - "expertise"
      - "industry"
      - "capability"
    min_count: 1
    validator: "validate_protocol_role.py:105"
    examples:
      - "with deep **expertise** in validation"
      - "specialized in the **domain** of protocol analysis"
      - "**industry**-leading practices in software governance"
      - "proven **capability** in system architecture"
  
  behavioral_traits:
    required_keywords:
      - "empat*"
      - "strateg*"
      - "rigor*"
      - "evidence"
      - "governance"
    min_count: 1
    validator: "validate_protocol_role.py:108"
    examples:
      - "Your **strategic** approach ensures..."
      - "providing **evidence**-based specifications"
      - "with **rigorous** validation processes"
      - "**empathetic** understanding of user needs"
      - "ensuring **governance** compliance"
  
  mission_statement:
    required_elements:
      mission_keyword:
        keywords: ["mission"]
        validator_line: 136
      scope:
        keywords: ["within", "only", "do not", "boundary", "scope"]
        validator_line: 137
      success:
        keywords: ["success", "complete", "validation", "evidence"]
        validator_line: 138
      value:
        keywords: ["client", "value", "impact", "benefit", "outcome"]
        validator_line: 139
    pattern: |
      **Mission**: [action] **within** [scope] ensuring **complete** [deliverable] 
      delivering **value** through [outcome].
    example: |
      **Mission**: Extract and synthesize all validation requirements **within** the 
      validator system **scope**, ensuring **complete** specification that enables Protocol 2 
      to generate valid structures, delivering immediate **value** through accurate, 
      usable requirements documentation.

quality_gates_patterns:
  gate_count:
    min_gates: 2
    validator: "validate_protocol_gates.py:100"
    note: "Must have at least 2 quality gates"
  
  gate_structure:
    header_format: "### Gate {number}: {name} ({type})"
    required_types:
      - "Prerequisite"
      - "Execution"
      - "Completion"
    validator: "validate_protocol_gates.py:112"
    examples:
      - "### Gate 1: Requirements Completeness (Prerequisite)"
      - "### Gate 2: Validation Success (Execution)"
      - "### Gate 3: Evidence Package Ready (Completion)"
  
  gate_thresholds:
    formats:
      numeric: "‚â•X.XX"
      boolean: "status = pass"
      percentage: "‚â•XX%"
    validator: "validate_protocol_gates.py:125"
    examples:
      - "Pass Threshold: ‚â•0.95"
      - "Pass Threshold: status = pass"
      - "Pass Threshold: ‚â•90%"
  
  gate_metrics:
    required_keywords:
      - "score"
      - "confidence"
      - "rate"
      - "percentage"
      - "count"
    validator: "validate_protocol_gates.py:130"
    examples:
      - "Validation score ‚â•0.95"
      - "Confidence level ‚â•90%"
      - "Success rate ‚â•95%"
  
  evidence_mentions:
    min_count: 3
    validator: "validate_protocol_gates.py:167"
    note: "Must mention 'evidence' at least 3 times across all gates"
    examples:
      - "Evidence: Requirements specification document"
      - "Evidence link: .artifacts/protocol-XX/validation-report.json"
      - "Evidence package includes all artifacts"

workflow_patterns:
  step_numbering:
    format: "### STEP {number}: {title}"
    validator: "validate_protocol_workflow.py:95"
    examples:
      - "### STEP 1: Gather Protocol Context"
      - "### STEP 2: Load Structure Template"
  
  action_markers:
    required_types:
      - "[STRICT]"
      - "[GUIDELINE]"
      - "[CRITICAL]"
    min_count: 2
    validator: "validate_protocol_workflow.py:110"
    examples:
      - "**[STRICT]** You MUST validate all inputs before processing"
      - "**[GUIDELINE]** You SHOULD reference existing patterns"
      - "**[CRITICAL]** HALT if any prerequisite is missing"
  
  reasoning_patterns:
    min_count: 2
    keywords:
      - "because"
      - "therefore"
      - "thus"
      - "hence"
      - "consequently"
    validator: "validate_protocol_workflow.py:125"
  
  decision_trees:
    min_decision_terms: 3
    keywords:
      - "if"
      - "then"
      - "else"
      - "when"
      - "unless"
    validator: "validate_protocol_workflow.py:140"
  
  problem_solving:
    min_problem_terms: 3
    keywords:
      - "issue"
      - "problem"
      - "error"
      - "failure"
      - "bug"
    required_elements:
      - "root cause"
    min_solutions: 2
    validator: "validate_protocol_workflow.py:155"

automation_hooks_patterns:
  command_count:
    min_commands: 3
    validator: "validate_protocol_scripts.py:100"
    note: "Must have at least 3 automation commands"
  
  registry_reference:
    required_file: "scripts/script-registry.json"
    validator: "validate_protocol_scripts.py:115"
    note: "Must reference script registry"
  
  execution_context:
    required_keywords:
      - "CI/CD"
      - "environment"
      - "scheduling"
      - "permissions"
    min_count: 1
    validator: "validate_protocol_scripts.py:130"
  
  command_syntax:
    required_elements:
      - "flags"
      - "output redirection"
      - "parameterization"
    examples:
      - "python3 scripts/validate.py --protocol 06 > validation.log"
      - "bash scripts/deploy.sh --env staging 2>&1 | tee deploy.log"
  
  error_handling:
    required_elements:
      - "exit codes"
      - "fallback"
      - "logging"
      - "manual paths"
    validator: "validate_protocol_scripts.py:145"

communication_patterns:
  status_announcements:
    required_types:
      - "phase transitions"
      - "MASTER RAY"
      - "completion"
      - "time estimates"
    validator: "validate_protocol_communication.py:100"
    examples:
      - "[PROTOCOL 06 | PHASE 1 START]"
      - "‚ñà‚ñì‚ñí‚ñí‚ñë‚ñë‚ñë‚ö°ùôºùô∞ùöÇùöÉùô¥ùöÅ ùöÅùô∞ùöà ·∂†·¥ø·¥¨·¥π·¥±·µÇ·¥º·¥ø·¥∑‚ö°‚ñë‚ñë‚ñë‚ñí‚ñí‚ñì‚ñà"
      - "[PROTOCOL 06 | PHASE 1 COMPLETE]"
      - "[ESTIMATED TIME: 15 minutes]"
  
  user_interaction:
    required_types:
      - "confirmation"
      - "clarification"
      - "decision points"
      - "feedback"
    validator: "validate_protocol_communication.py:115"
  
  error_messaging:
    required_elements:
      - "templates"
      - "severity"
      - "context"
      - "resolution"
    validator: "validate_protocol_communication.py:130"
  
  progress_tracking:
    min_progress_terms: 3
    keywords:
      - "progress"
      - "timeline"
      - "current"
      - "next"
      - "remaining"
    validator: "validate_protocol_communication.py:145"
  
  evidence_communication:
    min_artifact_announcements: 2
    required_elements:
      - "format"
      - "location"
      - "validation"
    validator: "validate_protocol_communication.py:160"

handoff_checklist_patterns:
  checklist_items:
    min_items: 6
    min_categories: 3
    validator: "validate_protocol_handoff.py:100"
    categories:
      - "Prerequisites"
      - "Workflow"
      - "Quality"
      - "Evidence"
      - "Integration"
  
  verification_procedures:
    min_verification_terms: 4
    keywords:
      - "verify"
      - "check"
      - "validate"
      - "confirm"
      - "ensure"
    validator: "validate_protocol_handoff.py:115"
  
  stakeholder_signoff:
    required_elements:
      - "approvals"
      - "reviewers"
      - "evidence"
      - "confirmation"
    validator: "validate_protocol_handoff.py:130"
  
  documentation_requirements:
    min_doc_terms: 3
    keywords:
      - "documentation"
      - "docs"
      - "readme"
      - "guide"
      - "manual"
    required_elements:
      - "storage"
      - "format"
    validator: "validate_protocol_handoff.py:145"
  
  next_protocol_alignment:
    required_elements:
      - "ready statements"
      - "next commands"
      - "dependencies"
    validator: "validate_protocol_handoff.py:160"

evidence_summary_patterns:
  artifact_table:
    required_columns:
      - "artifact"
      - "metrics"
    min_rows: 2
    validator: "validate_protocol_evidence.py:100"
    example: |
      | Artifact | Location | Evidence Type | Metrics |
      |----------|---------|---------------|---------|
      | Protocol File | `.cursor/ai-driven-workflow/XX-protocol-name.md` | Protocol | Completeness: 100% |
  
  storage_structure:
    required_elements:
      - "protocol directory"
      - "subdirectories"
      - "permissions"
      - "naming"
    validator: "validate_protocol_evidence.py:115"
  
  traceability:
    required_elements:
      - "inputs"
      - "outputs"
      - "transformations"
      - "audit"
    validator: "validate_protocol_evidence.py:130"

# Validation thresholds
validation_thresholds:
  role_validator: 0.90
  workflow_validator: 0.85
  gates_validator: 0.90
  scripts_validator: 0.85
  communication_validator: 0.85
  handoff_validator: 0.85
  evidence_validator: 0.90
  overall_minimum: 0.95

# Usage notes
usage_notes:
  - "Use these patterns during protocol content creation (Protocol 3)"
  - "Run pre-validation script after each section: python3 scripts/prevalidate_protocol_content.py"
  - "All patterns are derived from actual validator requirements"
  - "Patterns include line number references to validator source code"
  - "Update this library when validators are modified"
